(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6272:function(e,t,a){Promise.resolve().then(a.bind(a,6502))},6502:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(7437),r=a(7138),s=a(2265);class n{save(e){let t=this.getAll();t||(console.log("No local storage returned, this should be the first record"),t={}),e.lastUpdated=new Date,t[e.id]=e,localStorage.setItem("json-saved",JSON.stringify(t))}get(e){let t=localStorage.getItem("json-saved");return t?JSON.parse(t)[e]||null:(console.log("No local storage returned"),null)}getAll(){try{let e=localStorage.getItem("json-saved");if(!e)return console.log("No item was founded"),null;return JSON.parse(e)}catch(e){return console.log(e),null}}getAllPaginated(e,t){let a=this.getAll();if(!a)return console.log("No item was founded"),null;let l=Object.entries(a),r=l.sort((e,t)=>e[1].lastUpdated<t[1].lastUpdated?1:-1).slice(e,t).reduce((e,t)=>({...e,[t[0]]:t[1]}),{});return console.log("paginatedItems",r),{maxItem:l.length,currentLength:Object.entries(r).length,data:r}}delete(e){try{let t=localStorage.getItem("json-saved");if(!t){console.log("No item was founded");return}let a=JSON.parse(t);delete a[e],localStorage.setItem("json-saved",JSON.stringify(a))}catch(e){console.log(e);return}}}var d=a(6920),i=a(5664),o=a(608),c=a(2737),u=a.n(c);function f(e){let[t,a]=(0,s.useState)(null);return(0,s.useEffect)(()=>{a(u()(e.data.lastUpdated).format("YYYY-MM-DD HH:mm:ss"))},[e.data.lastUpdated]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex flex-col justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{children:e.data.title.length>24?e.data.title.slice(0,24)+"...":e.data.title}),(0,l.jsx)("div",{className:"overflow-scroll",children:(0,l.jsx)(o.he,{editable:!1,enableClipboard:!1,maxDisplayLength:1,displayDataTypes:!1,displaySize:!1,enableAdd:!1,enableDelete:!1,value:e.data.data})})]}),(0,l.jsx)("div",{className:"flex flex-col items-end justify-between gap-4",children:(0,l.jsxs)("div",{className:"flex gap-1 cursor-pointer",children:[(0,l.jsx)(d.G,{icon:i.Y}),"Edit"]})})]}),(0,l.jsx)("div",{className:"flex justify-end",children:t&&(0,l.jsxs)("span",{className:"self-end text-xs",children:["Last updated : ",t]})})]})})}var x=a(1538),v=a(2218),h=a(9354);let m=(0,v.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=s.forwardRef((e,t)=>{let{className:a,variant:r,size:s,asChild:n=!1,...d}=e,i=n?x.g7:"button";return(0,l.jsx)(i,{className:(0,h.cn)(m({variant:r,size:s,className:a})),ref:t,...d})});function p(e){let[t,a]=s.useState(null),[r,n]=(0,s.useState)([]);return(0,s.useEffect)(()=>{e.values&&n(Object.entries(e.values).map(e=>e[1]))},[e.values]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-xl m-4 h-10 text-black",children:"R\xe9cents"})}),(0,l.jsx)("div",{className:"text-gray-600 rounded p-4 overflow-scroll",children:(0,l.jsxs)("div",{className:"",children:[r.length>0&&(0,l.jsxs)(l.Fragment,{children:[r.map((r,s)=>(0,l.jsx)("div",{className:"flex flex-col w-full mb-6 \n                     transition hover:bg-blue-200 hover:text-white hover:ease-out duration-100\n                     ".concat(t===r.id&&"view"===e.mode?"bg-blue-300 text-white":""," \n                     cursor-pointer p-2 rounded"),onClick:()=>{a(r.id),e.onEditJson(r)},children:(0,l.jsx)(f,{data:r})},s)),e.shouldDisplayLoadMore&&(0,l.jsx)(g,{variant:"outline",className:"w-full",onClick:e.onLoadMore,children:"Load more..."})]}),0===r.length&&(0,l.jsx)("p",{children:"No json has been saved"})]})})]})}function b(e){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"h-full w-full flex flex-col border-r border-r-gray-200",children:(0,l.jsx)(p,{shouldDisplayLoadMore:e.shouldDisplayLoadMore,onLoadMore:e.onLoadMore,mode:e.mode,values:e.values,onEditJson:t=>e.onEditJson(t)})})})}function j(e){let t=(0,s.useRef)(!1),r=(0,s.useRef)(null);return(0,s.useEffect)(()=>{var t;null===(t=r.current)||void 0===t||t.update(e.data)},[e.data]),(0,s.useEffect)(()=>{a.e(658).then(a.t.bind(a,6194,23)).then(a=>{if(t.current)return;let l=a.default,s=document.getElementById("jsoneditor");if(!s){console.log("Could not find JSON Editor");return}r.current=new l(s,{mode:"code",onChange:async()=>{var t,a;let l=await (null===(t=r.current)||void 0===t?void 0:t.validate());if(l&&l.length>0){console.log("errors",l);return}e.onChange(null===(a=r.current)||void 0===a?void 0:a.get())}},e.data),t.current=!0})},[e.data]),(0,l.jsx)("div",{id:"jsoneditor",className:"w-full h-full"})}g.displayName="Button";let N=s.forwardRef((e,t)=>{let{className:a,type:r,...s}=e;return(0,l.jsx)("input",{type:r,className:(0,h.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",a),ref:t,...s})});N.displayName="Input";var y=a(6780);let w=(0,v.j)("relative w-full rounded-lg border border-slate-200 p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-slate-950 dark:border-slate-800 dark:[&>svg]:text-slate-50",{variants:{variant:{default:"bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),k=s.forwardRef((e,t)=>{let{className:a,variant:r,...s}=e;return(0,l.jsx)("div",{ref:t,role:"alert",className:(0,h.cn)(w({variant:r}),a),...s})});k.displayName="Alert";let S=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)("h5",{ref:t,className:(0,h.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});S.displayName="AlertTitle";let A=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:t,className:(0,h.cn)("text-sm [&_p]:leading-relaxed",a),...r})});A.displayName="AlertDescription";var E=a(8068),D=a(5322);let O=D.fC,T=D.xz,I=D.h_,R=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(D.aV,{className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});R.displayName=D.aV.displayName;let C=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsxs)(I,{children:[(0,l.jsx)(R,{}),(0,l.jsx)(D.VY,{ref:t,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",a),...r})]})});C.displayName=D.VY.displayName;let _=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};_.displayName="AlertDialogHeader";let L=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};L.displayName="AlertDialogFooter";let M=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(D.Dx,{ref:t,className:(0,h.cn)("text-lg font-semibold",a),...r})});M.displayName=D.Dx.displayName;let z=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(D.dk,{ref:t,className:(0,h.cn)("text-sm text-slate-500 dark:text-slate-400",a),...r})});z.displayName=D.dk.displayName;let J=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(D.aU,{ref:t,className:(0,h.cn)(m(),a),...r})});J.displayName=D.aU.displayName;let U=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(D.$j,{ref:t,className:(0,h.cn)(m({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});function V(e){let t=(0,s.useRef)(null),a=(0,s.useRef)(null),[r,n]=(0,s.useState)({}),d=(0,s.useRef)(null),i=(0,s.useRef)(null),[o,c]=(0,s.useState)(!1),{toast:u}=(0,E.pm)();(0,s.useEffect)(()=>{var a;t.current&&(null===(a=e.data)||void 0===a?void 0:a.title)&&(t.current.value=e.data.title,n(e.data.data),d.current=e.data.id)},[e.data]),(0,s.useEffect)(()=>{if("new"===e.mode){var a;f(),null===(a=t.current)||void 0===a||a.focus()}},[e.mode]);let f=()=>{var e;a.current=null,n({}),(null===(e=t.current)||void 0===e?void 0:e.value)&&(t.current.value="")};return(0,l.jsxs)("div",{className:"h-full",children:[(0,l.jsx)("div",{className:"flex items-center justify-center text-2xl text-black ".concat(e.data||"new"===e.mode?"hidden":""),children:(0,l.jsx)("p",{children:"No JSON to display"})}),(0,l.jsxs)("div",{className:"".concat(e.data||"new"===e.mode?"":"hidden"," flex flex-col h-full"),children:[(0,l.jsxs)("div",{className:"flex text-black items-center justify-between h-14 mb-3 gap-4",children:[(0,l.jsx)(N,{onChange:e=>{var t,a,l;if(0===e.target.value.length){c(!0),null===(a=i.current)||void 0===a||a.classList.remove("hidden");return}(null===(t=i.current)||void 0===t?void 0:t.classList.contains("hidden"))||null===(l=i.current)||void 0===l||l.classList.add("hidden"),c(!1)},ref:t,className:"border-none bg-gray-100 rounded pl-3",type:"text",maxLength:200,placeholder:"Enter a new title"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(g,{type:"button",onClick:()=>{var l,s,n,o;if(!(null===(l=t.current)||void 0===l?void 0:l.value)){console.log("Title is required",t.current),null===(n=t.current)||void 0===n||n.focus(),null===(o=i.current)||void 0===o||o.classList.remove("hidden");return}let c=a.current||r;if(!c){console.log("Data is required",c);return}let f=t.current.value,x="view"===e.mode?d.current:crypto.randomUUID();x&&(null===(s=e.onAdd)||void 0===s||s.call(e,{id:x,title:f,data:c}),u({title:"Your json has been saved",description:"".concat(f)}))},disabled:o,children:"Save"}),(0,l.jsxs)(O,{children:[(0,l.jsx)(T,{asChild:!0,children:(0,l.jsx)(g,{type:"button",variant:"destructive",children:"Delete"})}),(0,l.jsxs)(C,{children:[(0,l.jsxs)(_,{children:[(0,l.jsx)(M,{children:"Are you absolutely sure?"}),(0,l.jsx)(z,{children:"This action cannot be undone. This will permanently delete your data."})]}),(0,l.jsxs)(L,{children:[(0,l.jsx)(U,{children:"Cancel"}),(0,l.jsx)(J,{onClick:()=>{var t,a,l;if(!(null===(t=e.data)||void 0===t?void 0:t.id)){console.log("ID is required",null===(l=e.data)||void 0===l?void 0:l.id);return}null===(a=e.onDelete)||void 0===a||a.call(e,e.data.id.toString()),f()},children:"Continue"})]})]})]})]})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(k,{variant:"destructive",className:"m-1 hidden",ref:i,children:[(0,l.jsx)(y.Z,{className:"h-4 w-4"}),(0,l.jsx)(S,{children:"Error"}),(0,l.jsx)(A,{children:"Title is required. Please enter a title."})]})}),(0,l.jsx)("div",{className:"h-full",children:(0,l.jsx)(j,{data:r,onChange:e=>{a.current=e}})})]})]})}U.displayName=D.$j.displayName;var Y=a(1322),F=a(1505);let P=e=>{let{className:t,...a}=e;return(0,l.jsx)(F.eh,{className:(0,h.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...a})},q=F.s_,H=e=>{let{withHandle:t,className:a,...r}=e;return(0,l.jsx)(F.OT,{className:(0,h.cn)("relative flex w-px items-center justify-center bg-slate-200 after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90 dark:bg-slate-800 dark:focus-visible:ring-slate-300",a),...r,children:t&&(0,l.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border border-slate-200 bg-slate-200 dark:border-slate-800 dark:bg-slate-800",children:(0,l.jsx)(Y.Z,{className:"h-2.5 w-2.5"})})})};function B(){let[e,t]=(0,s.useState)(null),[a,d]=(0,s.useState)("new"),[i,o]=(0,s.useState)(null),c=new n,u=(0,s.useRef)(null),f=(0,s.useRef)([0,2]),[x,v]=(0,s.useState)(!0);(0,s.useEffect)(()=>{h()},[]);let h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;console.log("refresh - ",e,t);let a=c.getAllPaginated(e,t);a&&(u.current&&u.current<=t&&v(!1),!u.current&&a.maxItem&&(console.log("currentLength",t,a.maxItem),u.current=a.maxItem),a.data&&o(e=>({...e,...a.data})))};return(0,l.jsxs)("main",{children:[(0,l.jsxs)("nav",{className:"h-14 py-2 border-b border-gray-200 p-3 flex items-center gap-12 justify-between w-full",children:[(0,l.jsx)(r.default,{href:"/",className:"text-black",children:"JSON SAVER"}),(0,l.jsx)("div",{children:(0,l.jsx)(g,{type:"button",onClick:()=>d("new"),children:"Create a new JSON"})})]}),(0,l.jsx)("div",{className:"flex h-screen",children:(0,l.jsxs)(P,{direction:"horizontal",className:"w-full rounded-lg border",children:[(0,l.jsx)(q,{defaultSize:33,minSize:20,maxSize:100,children:(0,l.jsx)(b,{values:i,updateCurrentStatus:e=>d(e),onEditJson:e=>(function(e){if(!e){console.log("No item to display");return}d("view"),t(e)})(e),mode:a,onLoadMore:()=>{f.current[0]=f.current[0]+2,f.current[1]=f.current[1]+2,h(f.current[0],f.current[1])},shouldDisplayLoadMore:x})}),(0,l.jsx)(H,{}),(0,l.jsx)(q,{minSize:66,defaultSize:80,children:(0,l.jsxs)("div",{className:"w-full h-full",children:[(0,l.jsx)("div",{className:"bg-gray-500 w-full p-2",children:(0,l.jsx)("h1",{className:"text-white text-center text-2xl",children:"JSON Saver"})}),(0,l.jsx)("div",{className:"p-3 h-full",children:(0,l.jsx)(V,{mode:a,data:e,onAdd:e=>{console.log("onAddJson",e),c.save(e),h()},onDelete:e=>{c.delete(e),h()}})})]})})]})})]})}},8068:function(e,t,a){"use strict";a.d(t,{pm:function(){return f}});var l=a(2265);let r=0,s=new Map,n=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],o={toasts:[]};function c(e){o=d(o,e),i.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),l=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||l()}}}),{id:a,dismiss:l,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=l.useState(o);return l.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9354:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var l=a(4839),r=a(6164);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,l.W)(t))}}},function(e){e.O(0,[908,821,971,23,744],function(){return e(e.s=6272)}),_N_E=e.O()}]);